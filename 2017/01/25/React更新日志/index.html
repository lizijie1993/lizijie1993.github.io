<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>React更新日志 | 无尽的边界</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/6.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.2/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.2/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">React更新日志</h1><a id="logo" href="/.">无尽的边界</a><p class="description"></p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">React更新日志</h1><div class="post-meta">Jan 25, 2017<span> | </span><span class="category"><a href="/categories/前端/">前端</a></span><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> 阅读</span></span></div><a href="/2017/01/25/React更新日志/#comments" class="ds-thread-count cloud-tie-join-count"><span style="font-size: 15px; color: #6E7173;" class="join-count">0</span><span> 条参与</span></a><div class="post-content"><p><a href="https://github.com/facebook/react/blob/master/CHANGELOG.md" target="_blank" rel="external">Github Change Log</a></p>
<p>记录新功能、旧功能迁移、功能废弃相关内容，不记录bugfix、警告等小更新。</p>
<h2 id="15-5-0"><a href="#15-5-0" class="headerlink" title="15.5.0"></a>15.5.0</h2><p><a href="https://facebook.github.io/react/blog/2017/04/07/react-v15.5.0.html" target="_blank" rel="external">Blog - React v15.5.0</a></p>
<h3 id="React"><a href="#React" class="headerlink" title="React"></a>React</h3><ul>
<li>添加<code>React.createClass</code>的废弃警告，提示用户使用<code>create-react-class</code>模块替换。（注，也可以使用<code>class</code>创建组件）</li>
<li>添加<code>React.PropTypes</code>的废弃警告，提示用户使用<a href="https://github.com/reactjs/prop-types" target="_blank" rel="external">prop-types</a>模块替换，使用方法参考<a href="https://facebook.github.io/react/blog/2017/04/07/react-v15.5.0.html#migrating-from-react.createclass" target="_blank" rel="external">Migrating from React.createClass</a></li>
</ul>
<h3 id="React-DOM"><a href="#React-DOM" class="headerlink" title="React DOM"></a>React DOM</h3><ul>
<li>添加<code>react-dom/test-utils</code>，该模块暴露了React Test Utils</li>
</ul>
<h3 id="React-Test-Renderer"><a href="#React-Test-Renderer" class="headerlink" title="React Test Renderer"></a>React Test Renderer</h3><ul>
<li>添加<code>react-test-renderer/shallow</code>，该模块暴露了shallow renderer</li>
</ul>
<h3 id="React-Addons"><a href="#React-Addons" class="headerlink" title="React Addons"></a>React Addons</h3><ul>
<li>不再维护，各addons迁移替代方案参考<a href="https://facebook.github.io/react/blog/2017/04/07/react-v15.5.0.html#discontinuing-support-for-react-addons" target="_blank" rel="external">Discontinuing support for React Addons</a></li>
<li>废弃<code>react-addons-test-utils</code>，使用<code>react-dom/test-utils</code>和<code>react-test-renderer/shallow</code>替换</li>
</ul>
<h2 id="15-4-0"><a href="#15-4-0" class="headerlink" title="15.4.0"></a>15.4.0</h2><p><a href="https://facebook.github.io/react/blog/2016/11/16/react-v15.4.0.html" target="_blank" rel="external">Blog - React v15.4.0</a></p>
<h3 id="React-1"><a href="#React-1" class="headerlink" title="React"></a>React</h3><ul>
<li>完全分离<code>React</code>和<code>React DOM</code>两个模块</li>
</ul>
<h3 id="React-DOM-1"><a href="#React-DOM-1" class="headerlink" title="React DOM"></a>React DOM</h3><ul>
<li>声明不要手动调用 <code>PropTypes</code> 的警告</li>
</ul>
<h3 id="React-Perf"><a href="#React-Perf" class="headerlink" title="React Perf"></a>React Perf</h3><ul>
<li>React Perf启动后，你可以在chrome浏览器的<strong>timeline</strong>中查看各组件加载开销详情图表</li>
</ul>
<h3 id="React-Test-Utils"><a href="#React-Test-Utils" class="headerlink" title="React Test Utils"></a>React Test Utils</h3><ul>
<li>在<code>input disabled onClick={foo} /&gt;</code> 调用 <code>Simulate.click()</code> ，<code>foo</code>现在会执行</li>
</ul>
<h3 id="React-Test-Renderer-1"><a href="#React-Test-Renderer-1" class="headerlink" title="React Test Renderer"></a>React Test Renderer</h3><ul>
<li><code>ReactTestRenderer.create()</code> 现在接受可选参数 <code>{createNodeMock: element =&gt; mock}</code>。现在可以在<a href="http://facebook.github.io/jest/" target="_blank" rel="external">Jest</a>的snapshot testing中mock refs了</li>
</ul>
<h2 id="15-3-2"><a href="#15-3-2" class="headerlink" title="15.3.2"></a>15.3.2</h2><h3 id="React-DOM-2"><a href="#React-DOM-2" class="headerlink" title="React DOM"></a>React DOM</h3><ul>
<li>添加HTML<code>playsInline</code>属性</li>
<li>添加HTML<code>as</code>属性</li>
</ul>
<h2 id="15-3-0"><a href="#15-3-0" class="headerlink" title="15.3.0"></a>15.3.0</h2><h3 id="React-2"><a href="#React-2" class="headerlink" title="React"></a>React</h3><ul>
<li>添加<code>React.PureComponent</code>，替代<code>react-addons-pure-render-mixin</code></li>
</ul>
<h3 id="React-DOM-3"><a href="#React-DOM-3" class="headerlink" title="React DOM"></a>React DOM</h3><ul>
<li>添加SVG<code>xmlns</code>，<code>xmlnsXlink</code>属性</li>
<li>添加HTML<code>referrerPolicy</code>属性</li>
</ul>
<h3 id="React-Test-Renderer-2"><a href="#React-Test-Renderer-2" class="headerlink" title="React Test Renderer"></a>React Test Renderer</h3><ul>
<li>发布公共包，使用<code>npm install react-test-renderer</code>安装</li>
</ul>
<h3 id="React-TestUtils-Add-on"><a href="#React-TestUtils-Add-on" class="headerlink" title="React TestUtils Add-on"></a>React TestUtils Add-on</h3><ul>
<li>实现<code>type</code>属性，用于<code>TestUtils.Simulate.*.</code>创建事件</li>
</ul>
<h2 id="15-2-0"><a href="#15-2-0" class="headerlink" title="15.2.0"></a>15.2.0</h2><h3 id="React-3"><a href="#React-3" class="headerlink" title="React"></a>React</h3><ul>
<li>在警告中添加组件栈信息</li>
<li>添加<code>React.PropTypes.symbol</code></li>
</ul>
<h3 id="React-DOM-4"><a href="#React-DOM-4" class="headerlink" title="React DOM"></a>React DOM</h3><ul>
<li><code>&lt;link&gt;</code>元素添加<code>onLoad</code>处理函数</li>
<li><code>&lt;source&gt;</code>元素添加<code>onError</code>处理函数</li>
</ul>
<h3 id="React-Perf-Add-on"><a href="#React-Perf-Add-on" class="headerlink" title="React Perf Add-on"></a>React Perf Add-on</h3><ul>
<li>添加<code>isRunning()</code>API</li>
</ul>
<h2 id="15-0-0"><a href="#15-0-0" class="headerlink" title="15.0.0"></a>15.0.0</h2><p><a href="https://facebook.github.io/react/blog/2016/04/07/react-v15.html" target="_blank" rel="external">Blog - React v15.0</a></p>
<h3 id="变更日志"><a href="#变更日志" class="headerlink" title="变更日志"></a>变更日志</h3><ul>
<li>因使用<code>document.createElement</code>替代<code>node.innerHTML</code>，移除DOM中大部分<code>data-reactid</code>属性</li>
<li>文本外层不再附加一层<code>&lt;span&gt;</code>，可能会影响到部分css</li>
<li>使用<strong>注释节点</strong>渲染<code>null</code>，原本使用<code>&lt;noscript&gt;</code>标签渲染，会影响部分css，如<code>:nth-child</code></li>
<li>函数式组件支持返回<code>null</code></li>
<li>提升对SVG的支持，jsx支持所有SVG标签和属性</li>
<li><code>React.cloneElement()</code>解析<code>defaultProps</code>修复了bug：当传入<code>props</code>的属性值为<code>undefined</code>，不会应用<code>defaultProps</code>上对应的值</li>
<li><code>ReactPerf.getLastMeasurement()</code>返回值变更，不建议依赖该返回值</li>
</ul>
<h3 id="废弃"><a href="#废弃" class="headerlink" title="废弃"></a>废弃</h3><ul>
<li>React移除api：<code>findDOMNode</code>， <code>render</code>， <code>renderToString</code>，<code>renderToStaticMarkup</code>，<code>unmountComponentAtNode</code>，迁移至ReactDOM，ReactDOMServer</li>
<li>移除addons：<code>batchedUpdates</code>， <code>cloneWithProps</code></li>
<li>移除react组件实例方法：<code>setProps</code>， <code>replaceProps</code>， <code>getDOMNode</code></li>
<li>移除 <code>react/addons</code> 入口，以<code>react-addons-*</code>模块替代</li>
<li>传递 <code>children</code> 给void element（如input），现在会报错</li>
<li>不再支持从通过 <code>refs</code> 取得的dom上取react特定的属性（如 <code>this.refs.div.props</code>），建议使用 <code>ref</code> 回调函数获取</li>
</ul>
<h3 id="新的废弃（React16完全移除）"><a href="#新的废弃（React16完全移除）" class="headerlink" title="新的废弃（React16完全移除）"></a>新的废弃（React16完全移除）</h3><ul>
<li>移除：<code>LinkedStateMixin</code>，<code>valueLink</code>。需自行通过wrapper组件替代，如[react-linked-input(<a href="https://www.npmjs.com/package/react-linked-input" target="_blank" rel="external">https://www.npmjs.com/package/react-linked-input</a>)</li>
<li><code>&lt;input value={null} &gt;</code> <code>null</code>值视作清空该input。React 0.14会忽略null值，React 15会警告，需要显示使用空字符串清空或使用<code>undefined</code>视作未传值</li>
<li><code>ReactPerf.printDOM()</code> 更名为 <code>ReactPerf.printOperations()</code>，<code>ReactPerf.getMeasurementsSummaryMap()</code> 更名为 <code>ReactPerf.getWasted()</code></li>
</ul>
</div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="http://blog.lizijie.site/2017/01/25/React更新日志/" data-id="cj4e76gel000s54fywihbkjau" class="article-share-link">分享</a><div class="tags"><a href="/tags/react/">react</a></div><div class="post-nav"><a href="/2017/01/25/ReactDOM/" class="pre">ReactDOM</a><a href="/2017/01/09/烘焙材料准备技巧/" class="next">烘焙材料准备技巧</a></div><div id="cloud-tie-wrapper" class="cloud-tie-wrapper"></div><script>var cloudTieConfig = {
  url: document.location.href,
  productKey: "691ca33658a346a5a494b95aa46754a2",
  target: "cloud-tie-wrapper"
};</script><script src="https://img1.cache.netease.com/f2e/tie/yun/sdk/loader.js"></script></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/前端/">前端</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/工具/">工具</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/生活/">生活</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/favicon/" style="font-size: 15px;">favicon</a> <a href="/tags/react/" style="font-size: 15px;">react</a> <a href="/tags/家常菜/" style="font-size: 15px;">家常菜</a> <a href="/tags/炒菜/" style="font-size: 15px;">炒菜</a> <a href="/tags/Ajax/" style="font-size: 15px;">Ajax</a> <a href="/tags/CSS/" style="font-size: 15px;">CSS</a> <a href="/tags/布局/" style="font-size: 15px;">布局</a> <a href="/tags/构建工具/" style="font-size: 15px;">构建工具</a> <a href="/tags/fisp/" style="font-size: 15px;">fisp</a> <a href="/tags/es6/" style="font-size: 15px;">es6</a> <a href="/tags/ubuntu/" style="font-size: 15px;">ubuntu</a> <a href="/tags/软件/" style="font-size: 15px;">软件</a> <a href="/tags/grunt/" style="font-size: 15px;">grunt</a> <a href="/tags/zepto/" style="font-size: 15px;">zepto</a> <a href="/tags/Hexo/" style="font-size: 15px;">Hexo</a> <a href="/tags/blog/" style="font-size: 15px;">blog</a> <a href="/tags/javascript/" style="font-size: 15px;">javascript</a> <a href="/tags/模块化/" style="font-size: 15px;">模块化</a> <a href="/tags/requireJS/" style="font-size: 15px;">requireJS</a> <a href="/tags/烘焙/" style="font-size: 15px;">烘焙</a> <a href="/tags/调料/" style="font-size: 15px;">调料</a> <a href="/tags/川菜/" style="font-size: 15px;">川菜</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2017/06/26/如何最大化利用Javascript-console/">如何最大化利用Javascript console</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/05/07/React顶层API/">React顶层API</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/05/07/麻婆豆腐/">麻婆豆腐</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/05/01/农家小炒肉/">农家小炒肉</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/05/01/肉末臊子/">肉末臊子</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/05/01/干煸菜花/">干煸菜花</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/30/favicon/">Favicon</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/09/React-Children/">React.Children</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/09/组件props类型校验/">组件props类型校验</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/08/React中ref属性与DOM/">React中ref属性与DOM</a></li></ul></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2017 <a href="/." rel="nofollow">无尽的边界.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.0.47/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.0.47/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>